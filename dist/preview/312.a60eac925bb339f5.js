"use strict";(self.webpackChunknowa=self.webpackChunknowa||[]).push([[312],{9312:(sT,bl,ee)=>{ee.r(bl),ee.d(bl,{AuthModule:()=>rT});var di=ee(8691),U=ee(9417),Vt=ee(177),ut=ee(7787),d=ee(7705),fi=ee(5581);let Xg=(()=>{class e{constructor(n){this.authService=n}ngOnInit(){document.querySelector("body")?.classList.remove("horizontal"),document.body.className="ltr error-page1 bg-primary"}ngOnDestroy(){document.body.className="ltr main-body app sidebar-mini"}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(fi.u))}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["app-forget-password"]],decls:32,vars:0,consts:[[1,"page"],[1,"page-single"],[1,"container"],[1,"row"],[1,"col-xl-5","col-lg-6","col-md-8","col-sm-8","col-xs-10","card-sigin-main","py-4","justify-content-center","mx-auto"],[1,"card-sigin"],[1,"main-card-signin","d-md-flex"],[1,"wd-100p"],[1,"mb-3","d-flex"],["routerLink","/dashboard/dashboard01"],["src","./assets/img/brand/favicon.png","alt","logo",1,"sign-favicon","ht-40"],[1,"main-card-signin","d-md-flex","bg-white"],[1,"main-signin-header"],[1,"form-group"],["placeholder","Enter your email","required","","type","text",1,"form-control"],["passwordResetEmail",""],["routerLink","/auth/verify-email-address",1,"btn","btn-primary","btn-block",3,"click"],[1,"main-signup-footer","mg-t-20","text-center"],["href","javascript:void(0);","routerLink","/auth/login"]],template:function(r,o){if(1&r){const i=d.RV6();d.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"a",9),d.nrm(10,"img",10),d.k0s()(),d.j41(11,"div",11)(12,"div",7)(13,"div",12)(14,"h2"),d.EFF(15,"Forgot Password!"),d.k0s(),d.j41(16,"h4"),d.EFF(17,"Please Enter Your Email"),d.k0s(),d.j41(18,"form")(19,"div",13)(20,"label"),d.EFF(21,"Email"),d.k0s(),d.nrm(22,"input",14,15),d.k0s(),d.j41(24,"button",16),d.bIt("click",function(){d.eBV(i);const a=d.sdS(23);return d.Njj(o.authService.ForgotPassword(a.value))}),d.EFF(25,"Send"),d.k0s()()(),d.j41(26,"div",17)(27,"p"),d.EFF(28,"Forget it, "),d.j41(29,"a",18),d.EFF(30," Send me back"),d.k0s(),d.EFF(31," to the sign in screen."),d.k0s()()()()()()()()()()()()}},dependencies:[U.qT,U.cb,U.cV,ut.Wk]})}}return e})();var Dl=ee(1626),Kg=ee(5678);function em(e,t){if(1&e&&(d.j41(0,"p",35),d.EFF(1),d.k0s()),2&e){const n=d.XpG();d.R7$(1),d.SpI(" ",n.errorMessage," ")}}function tm(e,t){if(1&e&&(d.j41(0,"p",35),d.EFF(1),d.k0s()),2&e){const n=d.XpG();d.R7$(1),d.SpI(" ",n._error.message," ")}}function nm(e,t){1&e&&(d.j41(0,"div",36),d.EFF(1," Email is required "),d.k0s())}function rm(e,t){1&e&&(d.j41(0,"div",36),d.EFF(1," Invalid Email "),d.k0s())}function om(e,t){1&e&&(d.j41(0,"div",36),d.EFF(1," Password is required "),d.k0s())}let im=(()=>{class e{constructor(n,r,o,i,s,a){this.authService=n,this.fb=r,this.modalService=o,this.http=i,this.userService=s,this.router=a,this.show=!1,this.loginForm=this.fb.group({username:["",[U.k0.required,U.k0.email]],password:["",U.k0.required]})}ngOnInit(){document.querySelector("body")?.classList.remove("horizontal"),document.body.className="ltr error-page1 bg-primary"}ngOnDestroy(){document.body.className="ltr main-body app sidebar-mini"}showPassword(){this.show=!this.show}loginGoogle(){this.authService.GoogleAuth()}loginTwitter(){this.authService.signInTwitter()}loginFacebook(){this.authService.signInFacebok()}login(){console.log(this.loginForm.value.username),console.log(this.loginForm.value.password),this.errorMessage="",this.http.get("/api/login?username="+this.loginForm.value.username+"&&password="+this.loginForm.value.password).subscribe(r=>{console.log(r),1==r.status?(this.userService.setUser(r.id,this.loginForm.value.username,r.authToken,r.firstName,r.lastName,r.role,r.role2),console.log("role: "+this.userService.getRole()),console.log("role2: "+this.userService.getRole()),this.router.navigate(["../main"])):(this.errorMessage="Invalid username/password",console.log(this.errorMessage))})}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(fi.u),d.rXU(U.ok),d.rXU(di.Bq),d.rXU(Dl.Qq),d.rXU(Kg.D),d.rXU(ut.Ix))}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["app-login"]],decls:56,vars:9,consts:[[1,"page"],[1,"page-single"],[1,"container"],[1,"row"],[1,"col-xl-5","col-lg-6","col-md-8","col-sm-8","col-xs-10","card-sigin-main","mx-auto","my-auto","py-4","justify-content-center"],[1,"card-sigin"],[1,"main-card-signin","d-md-flex"],[1,"wd-100p"],[1,"d-flex","mb-4"],["routerLink","/dashboard/dashboard01"],["src","./assets/img/brand/favicon.png","alt","logo",1,"sign-favicon","ht-40"],[1,""],[1,"main-signup-header"],[1,"font-weight-semibold","mb-4"],[1,"panel","panel-primary"],[1,"panel-body","tabs-menu-body","border-0","p-3"],[3,"formGroup"],[1,"form-group"],["class","text-danger",4,"ngIf"],["placeholder","Enter your email","type","text","required","","placeholder","app@yourmail.com","formControlName","username",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter your password","type","password","formControlName","password",1,"form-control"],["autofocus","",1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"mt-4","d-flex","mx-auto","text-center","justify-content-center","mb-2"],["type","button",1,"btn","btn-icon","me-3",3,"click"],[1,"btn-inner--icon"],[1,"bx","bxl-google","tx-18","tx-prime"],["type","button",1,"btn","btn-icon","btn-facebook","me-3",3,"click"],[1,"bx","bxl-facebook","tx-18","tx-prime"],[1,"bx","bxl-twitter","tx-18","tx-prime"],["type","button",1,"btn","btn-icon","me-3"],[1,"bx","bxl-instagram","tx-18","tx-prime"],[1,"main-signin-footer","text-center","mt-3"],["routerLink","/auth/forgot-password",1,"mb-3"],["routerLink","/auth/register"],[1,"text-danger"],[1,"text","text-danger","mt-1"]],template:function(r,o){1&r&&(d.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"a",9),d.nrm(10,"img",10),d.k0s()(),d.j41(11,"div",11)(12,"div",12)(13,"h2"),d.EFF(14,"Welcome back!"),d.k0s(),d.j41(15,"h6",13),d.EFF(16,"Please sign in to continue."),d.k0s(),d.j41(17,"div",14)(18,"div",15)(19,"form",16)(20,"div",17),d.DNE(21,em,2,1,"p",18),d.DNE(22,tm,2,1,"p",18),d.j41(23,"label"),d.EFF(24,"Email"),d.k0s(),d.nrm(25,"input",19),d.DNE(26,nm,2,0,"div",20),d.DNE(27,rm,2,0,"div",20),d.k0s(),d.j41(28,"div",17)(29,"label"),d.EFF(30,"Password"),d.k0s(),d.nrm(31,"input",21),d.DNE(32,om,2,0,"div",20),d.k0s(),d.j41(33,"button",22),d.bIt("click",function(){return o.login()}),d.EFF(34,"Sign In"),d.k0s(),d.j41(35,"div",23)(36,"button",24),d.bIt("click",function(){return o.loginGoogle()}),d.j41(37,"span",25),d.nrm(38,"i",26),d.k0s()(),d.j41(39,"button",27),d.bIt("click",function(){return o.loginFacebook()}),d.j41(40,"span",25),d.nrm(41,"i",28),d.k0s()(),d.j41(42,"button",24),d.bIt("click",function(){return o.loginTwitter()}),d.j41(43,"span",25),d.nrm(44,"i",29),d.k0s()(),d.j41(45,"button",30)(46,"span",25),d.nrm(47,"i",31),d.k0s()()()()()(),d.j41(48,"div",32)(49,"p")(50,"a",33),d.EFF(51,"Forgot password?"),d.k0s()(),d.j41(52,"p"),d.EFF(53,"Don't have an account? "),d.j41(54,"a",34),d.EFF(55,"Create an Account"),d.k0s()()()()()()()()()()()()()),2&r&&(d.R7$(19),d.Y8G("formGroup",o.loginForm),d.R7$(2),d.Y8G("ngIf",o.errorMessage>0),d.R7$(1),d.Y8G("ngIf",o._error),d.R7$(4),d.Y8G("ngIf",(null==o.loginForm.controls.email?null:o.loginForm.controls.email.touched)&&(null==o.loginForm.controls.email.errors?null:o.loginForm.controls.email.errors.required)),d.R7$(1),d.Y8G("ngIf",(null==o.loginForm.controls.email?null:o.loginForm.controls.email.touched)&&(null==o.loginForm.controls.email.errors?null:o.loginForm.controls.email.errors.email)),d.R7$(5),d.Y8G("ngIf",(null==o.loginForm.controls.password?null:o.loginForm.controls.password.touched)&&(null==o.loginForm.controls.password.errors?null:o.loginForm.controls.password.errors.required)),d.R7$(1),d.AVh("loader--text",o.authService.showLoader),d.Y8G("disabled",!o.loginForm.valid||o.authService.showLoader))},dependencies:[Vt.bT,U.qT,U.me,U.BC,U.cb,U.YS,U.j4,U.JD,ut.Wk],styles:['.loader--text[_ngcontent-%COMP%]{top:200%;left:0;right:0;margin:auto}.loader--text[_ngcontent-%COMP%]:after{content:"Loading";font-weight:700;animation-name:_ngcontent-%COMP%_loading-text;animation-duration:3s;animation-iteration-count:infinite}@keyframes _ngcontent-%COMP%_loader{15%{transform:translate(0)}45%{transform:translate(230px)}65%{transform:translate(230px)}95%{transform:translate(0)}}@keyframes _ngcontent-%COMP%_loading-text{0%{content:"Loading"}25%{content:"Loading."}50%{content:"Loading.."}75%{content:"Loading..."}}.bxl-google[_ngcontent-%COMP%]{color:var(--primary-bg-color);font-size:22px;line-height:35px!important;outline:none;height:37px;width:37px;background:#fff;margin:auto;text-align:center;border:1px solid #f1ecf7;box-shadow:none;border-radius:35px}']})}}return e})();var sm=ee(1951),pi=ee(4412),am=ee(1413),lm=ee(7673),Pr=ee(8141),El=ee(152),Cl=ee(5558),_l=ee(1986);let fm=(()=>{class e{constructor(n){this.pipe=n,this._loading$=new pi.t(!0),this._search$=new am.B,this._registers$=new pi.t([]),this._total$=new pi.t(0),this._allregisters=[],this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe((0,Pr.M)(()=>this._loading$.next(!0)),(0,El.B)(200),(0,Cl.n)(()=>this._search()),(0,_l.c)(200),(0,Pr.M)(()=>this._loading$.next(!1))).subscribe(r=>{this._registers$.next(r.registers),this._total$.next(r.total)}),this._search$.next()}get registers$(){return this._registers$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}setRegisters(n){this._allregisters=n,this._search$.pipe((0,Pr.M)(()=>this._loading$.next(!0)),(0,El.B)(200),(0,Cl.n)(()=>this._search()),(0,_l.c)(200),(0,Pr.M)(()=>this._loading$.next(!1))).subscribe(r=>{this._registers$.next(r.registers),this._total$.next(r.total)}),this._search$.next()}set page(n){this._set({page:n})}set pageSize(n){this._set({pageSize:n})}set searchTerm(n){this._set({searchTerm:n})}set sortRegisterColumn(n){this._set({sortColumn:n})}set sortDirection(n){this._set({sortDirection:n})}_set(n){Object.assign(this._state,n),this._search$.next()}_search(){const{sortColumn:n,sortDirection:r,pageSize:o,page:i,searchTerm:s}=this._state;let a=function um(e,t,n){return""===n||""===t?e:[...e].sort((r,o)=>{const i=((e,t)=>e<t?-1:e>t?1:0)(r[t],o[t]);return"asc"===n?i:-i})}(this._allregisters,n,r);a=a.filter(c=>function dm(e,t,n){return e.firstName.toLowerCase().includes(t.toLowerCase())||e.lastName.toLowerCase().includes(t.toLowerCase())||e.userType.toLowerCase().includes(t.toLowerCase())||e.companyName.toLowerCase().includes(t.toLowerCase())||e.regNumber.toLowerCase().includes(t.toLowerCase())||e.vatNumber.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.landline.toLowerCase().includes(t.toLowerCase())||e.mobile.toLowerCase().includes(t.toLowerCase())||e.address.toLowerCase().includes(t.toLowerCase())||e.postcode.toLowerCase().includes(t.toLowerCase())}(c,s));const l=a.length;return a=a.slice((i-1)*o,(i-1)*o+o),(0,lm.of)({registers:a,total:l})}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Vt.QX))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Y(e){return"function"==typeof e}function Ml(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const hi=Ml(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function gi(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class He{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Y(r))try{r()}catch(i){t=i instanceof hi?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{xl(i)}catch(s){t=t??[],s instanceof hi?t=[...t,...s.errors]:t.push(s)}}if(t)throw new hi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xl(t);else{if(t instanceof He){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&gi(n,t)}remove(t){const{_finalizers:n}=this;n&&gi(n,t),t instanceof He&&t._removeParent(this)}}function Tl(e){return e instanceof He||e&&"closed"in e&&Y(e.remove)&&Y(e.add)&&Y(e.unsubscribe)}function xl(e){Y(e)?e():e.unsubscribe()}He.EMPTY=(()=>{const e=new He;return e.closed=!0,e})();const Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kr={setTimeout(e,t,...n){const{delegate:r}=kr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=kr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Rl(){}const pm=mi("C",void 0,void 0);function mi(e,t,n){return{kind:e,value:t,error:n}}let Et=null;class yi extends He{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Tl(t)&&t.add(this)):this.destination=wm}static create(t,n,r){return new kn(t,n,r)}next(t){this.isStopped?Ii(function gm(e){return mi("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ii(function hm(e){return mi("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ii(pm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ym=Function.prototype.bind;function vi(e,t){return ym.call(e,t)}class vm{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Fr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Fr(r)}else Fr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Fr(n)}}}class kn extends yi{constructor(t,n,r){let o;if(super(),Y(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Dt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&vi(t.next,i),error:t.error&&vi(t.error,i),complete:t.complete&&vi(t.complete,i)}):o=t}this.destination=new vm(o)}}function Fr(e){Dt.useDeprecatedSynchronousErrorHandling?function mm(e){Dt.useDeprecatedSynchronousErrorHandling&&Et&&(Et.errorThrown=!0,Et.error=e)}(e):function Sl(e){kr.setTimeout(()=>{const{onUnhandledError:t}=Dt;if(!t)throw e;t(e)})}(e)}function Ii(e,t){const{onStoppedNotification:n}=Dt;n&&kr.setTimeout(()=>n(e,t))}const wm={closed:!0,next:Rl,error:function Im(e){throw e},complete:Rl},wi="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(e){return e}let ye=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function Dm(e){return e&&e instanceof yi||function bm(e){return e&&Y(e.next)&&Y(e.error)&&Y(e.complete)}(e)&&Tl(e)}(n)?n:new kn(n,r,o);return function jr(e){if(Dt.useDeprecatedSynchronousErrorHandling){const t=!Et;if(t&&(Et={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Et;if(Et=null,n)throw r}}else e()}(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ol(r))((o,i)=>{const s=new kn({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[wi](){return this}pipe(...n){return function Al(e){return 0===e.length?bi:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=Ol(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Ol(e){var t;return null!==(t=e??Dt.Promise)&&void 0!==t?t:Promise}function Z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}Ml(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}),"function"==typeof SuppressedError&&SuppressedError,function Km(){"function"==typeof Symbol&&Symbol.iterator&&Symbol}(),new ye(e=>e.complete()),Error,globalThis;let ZN=(()=>{class e{constructor(){this.validateEmail=n=>String(n).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const YN=["messageModal"];function JN(e,t){if(1&e&&(d.j41(0,"div",31)(1,"label",32),d.EFF(2),d.k0s()()),2&e){const n=d.XpG();d.R7$(2),d.JRh(n.errorMessage)}}function XN(e,t){if(1&e){const n=d.RV6();d.j41(0,"div",33)(1,"h5",34),d.EFF(2),d.k0s(),d.j41(3,"button",35),d.bIt("click",function(){const i=d.eBV(n).$implicit;return d.Njj(i.dismiss("Cross click"))}),d.k0s()(),d.j41(4,"div",36)(5,"form")(6,"div",31)(7,"label",13),d.EFF(8),d.k0s()(),d.j41(9,"div",37)(10,"button",38),d.bIt("click",function(){const i=d.eBV(n).$implicit;return d.Njj(i.dismiss())}),d.EFF(11,"OK"),d.k0s()()()()}if(2&e){const n=d.XpG();d.R7$(2),d.JRh(n.messageHeader),d.R7$(6),d.JRh(n.message)}}const Ve=function(){return{standalone:!0}};function eT(e,t){if(1&e&&(d.j41(0,"div",19)(1,"p",20),d.EFF(2,"We have sent a confirmation email to "),d.j41(3,"strong"),d.EFF(4),d.k0s(),d.EFF(5,". "),d.k0s(),d.j41(6,"p",20),d.EFF(7,"Please check your email and click on the link to verfiy your email address."),d.k0s()()),2&e){const n=t.ngIf;d.R7$(4),d.JRh(n.email)}}const tT=[{path:"auth/login",component:im},{path:"auth/register/:role",component:(()=>{class e{constructor(n,r,o,i,s){this.http=n,this.service=r,this.utilService=o,this.modalService=i,this.activatedRoute=s,this.registers=[],this.firstName="",this.lastName="",this.userType="",this.companyType="",this.companyName="",this.regNumber="",this.vatNumber="",this.email="",this.landline="",this.mobile="",this.address="",this.postcode="",this.messageHeader="",this.message="",this.isError=!1,this.errorMessage="",this.activatedRoute.params.subscribe(a=>{var l=this.activatedRoute.snapshot.paramMap.get("role");this.userType=l??""})}ngOnInit(){this.clearFields(),document.querySelector("body")?.classList.remove("horizontal"),document.body.className="ltr error-page1 bg-primary"}clearFields(){this.firstName="",this.lastName="",this.companyType="",this.companyName="",this.regNumber="",this.vatNumber="",this.email="",this.landline="",this.mobile="",this.address="",this.postcode="",this.registers=[],this.isError=!1,this.errorMessage=""}onSort({column:n,direction:r}){this.headers.forEach(o=>{o.sortable!==n&&(o.direction="")}),this.service.sortRegisterColumn=n,this.service.sortDirection=r}open(n){this.modalService.open(n,{backdrop:"static",windowClass:"modalCusSty"})}openCenter(n){this.modalService.open(n,{centered:!0,backdrop:"static",windowClass:"modalCusSty"})}isValid(n,r,o,i,s,a,l,c,u,f,p){return this.isError=!1,this.errorMessage="",""==this.firstName?(this.isError=!0,this.errorMessage="First Name is Empty",!1):""==this.lastName?(this.isError=!0,this.errorMessage="Last Name is Empty",!1):""==this.companyType?(this.isError=!0,this.errorMessage="Company Type is Empty",!1):""==this.companyName?(this.isError=!0,this.errorMessage="Company Name is Empty",!1):""==this.regNumber?(this.isError=!0,this.errorMessage="Registration Number is Empty",!1):""==this.vatNumber?(this.isError=!0,this.errorMessage="VAT Number is Empty",!1):""==this.email?(this.isError=!0,this.errorMessage="Email is Empty",!1):this.utilService.validateEmail(this.email)?""==this.landline?(this.isError=!0,this.errorMessage="Landline Number is Empty",!1):""==this.mobile?(this.isError=!0,this.errorMessage="Mobile Numberis Empty",!1):""==this.address?(this.isError=!0,this.errorMessage="Address is Empty",!1):""!=this.postcode||(this.isError=!0,this.errorMessage="Postcode is Empty",!1):(this.isError=!0,this.errorMessage="Invalid Email Id",!1)}onCreate(n){if(this.isValid(this.firstName,this.lastName,this.userType,this.companyType,this.companyName,this.regNumber,this.vatNumber,this.email,this.landline,this.mobile,this.address)){var r=new FormData;r.append("firstName",this.firstName),r.append("lastName",this.lastName),r.append("userType",this.userType),r.append("companyType",this.companyType),r.append("companyName",this.companyName),r.append("regNumber",this.regNumber),r.append("vatNumber",this.vatNumber),r.append("email",this.email),r.append("landline",this.landline),r.append("mobile",this.mobile),r.append("address",this.address),r.append("postcode",this.postcode),console.log("user Type:",this.userType),this.http.post("/api/addregister",r).subscribe(o=>{this.messageHeader="Add User ",this.message="Registered succesfully.",this.openCenter(this.messageModal)}),n.dismiss()}}onRegNumberChanged(){this.http.get("/api/companyInfo?regNo="+this.regNumber).subscribe(n=>{this.companyName=n.companyName,this.address=n.address,this.postcode=n.postcode})}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(Dl.Qq),d.rXU(fm),d.rXU(ZN),d.rXU(di.Bq),d.rXU(ut.nX))}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["app-register"]],viewQuery:function(r,o){if(1&r&&(d.GBs(YN,5),d.GBs(sm.f,5)),2&r){let i;d.mGM(i=d.lsd())&&(o.messageModal=i.first),d.mGM(i=d.lsd())&&(o.headers=i)}},decls:87,vars:35,consts:[[1,"page"],[1,"page-single"],[1,"container"],[1,"row"],[1,"col-xl-5","col-lg-6","col-md-8","col-sm-8","col-xs-10","card-sigin-main","py-4","justify-content-center","mx-auto"],[1,"card-sigin"],[1,"main-card-signin","d-md-flex"],[1,""],[1,"main-signup-header"],[1,"text-light"],[1,"container-fluid"],[1,"row","d-flex","align-items-stretch"],[1,"mb-3","col-md-6"],[1,"text-black","font-w500"],[1,"form-select",2,"font-size","13px",3,"ngModel","ngModelOptions","ngModelChange"],["value","","default","","selected",""],["value","private_company_ltd"],["value","sold_trader"],["value","public_company_ltd"],["value","limited_liability_partnership"],["value","industry_type"],[1,"mb-6","col-md-6"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","change","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"mb-3","col-md-12"],["class","mb-3",4,"ngIf"],[1,"d-grid"],["type","button",1,"btn","btn-primary",3,"click"],[1,"main-signup-footer","mt-3","text-center"],["routerLink","/auth/login"],["messageModal",""],[1,"mb-3"],[1,"mb-1","form-label","text-danger"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","data-picker-costem"],[1,"form-group"],["type","button",1,"btn","btn-primary","light",2,"margin-left","10px",3,"click"]],template:function(r,o){1&r&&(d.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h2",9),d.EFF(10),d.k0s(),d.j41(11,"div",10)(12,"form")(13,"div",11)(14,"div",12)(15,"label",13),d.EFF(16,"Company Type"),d.k0s(),d.j41(17,"select",14),d.bIt("ngModelChange",function(s){return o.companyType=s}),d.j41(18,"option",15),d.EFF(19,"Select "),d.k0s(),d.j41(20,"option",16),d.EFF(21,"Private Company Ltd"),d.k0s(),d.j41(22,"option",17),d.EFF(23,"Sold Trader"),d.k0s(),d.j41(24,"option",18),d.EFF(25,"Public Company Ltd (PCL)"),d.k0s(),d.j41(26,"option",19),d.EFF(27,"Limited Liability Partnership (LLP)"),d.k0s(),d.j41(28,"option",20),d.EFF(29,"Industry Type"),d.k0s()()(),d.j41(30,"div",21)(31,"label",13),d.EFF(32,"Registration Number"),d.k0s(),d.j41(33,"input",22),d.bIt("change",function(){return o.onRegNumberChanged()})("ngModelChange",function(s){return o.regNumber=s}),d.k0s()()(),d.j41(34,"div",3)(35,"div",12)(36,"label",13),d.EFF(37,"Company Name"),d.k0s(),d.j41(38,"input",23),d.bIt("ngModelChange",function(s){return o.companyName=s}),d.k0s()(),d.j41(39,"div",21)(40,"label",13),d.EFF(41,"VAT Number"),d.k0s(),d.j41(42,"input",23),d.bIt("ngModelChange",function(s){return o.vatNumber=s}),d.k0s()()(),d.j41(43,"div",3)(44,"div",24)(45,"label",13),d.EFF(46," Company Address"),d.k0s(),d.j41(47,"input",23),d.bIt("ngModelChange",function(s){return o.address=s}),d.k0s()()(),d.j41(48,"div",3)(49,"div",12)(50,"label",13),d.EFF(51,"Post Code"),d.k0s(),d.j41(52,"input",23),d.bIt("ngModelChange",function(s){return o.postcode=s}),d.k0s()(),d.j41(53,"div",12)(54,"label",13),d.EFF(55,"Mobile Number"),d.k0s(),d.j41(56,"input",23),d.bIt("ngModelChange",function(s){return o.mobile=s}),d.k0s()()(),d.j41(57,"div",3)(58,"div",12)(59,"label",13),d.EFF(60,"First Name"),d.k0s(),d.j41(61,"input",23),d.bIt("ngModelChange",function(s){return o.firstName=s}),d.k0s()(),d.j41(62,"div",12)(63,"label",13),d.EFF(64,"Last Name"),d.k0s(),d.j41(65,"input",23),d.bIt("ngModelChange",function(s){return o.lastName=s}),d.k0s()()(),d.j41(66,"div",3)(67,"div",12)(68,"label",13),d.EFF(69,"E-Mail"),d.k0s(),d.j41(70,"input",23),d.bIt("ngModelChange",function(s){return o.email=s}),d.k0s()(),d.j41(71,"div",12)(72,"label",13),d.EFF(73,"Landline Number"),d.k0s(),d.j41(74,"input",23),d.bIt("ngModelChange",function(s){return o.landline=s}),d.k0s()()(),d.j41(75,"div",3),d.DNE(76,JN,3,1,"div",25),d.k0s(),d.j41(77,"div",26)(78,"button",27),d.bIt("click",function(){return o.onCreate(o.modal)}),d.EFF(79,"Register"),d.k0s()()()(),d.j41(80,"div",28)(81,"p"),d.EFF(82,"Already have an account? "),d.j41(83,"a",29),d.EFF(84,"Sign In"),d.k0s()()()()()()()()()(),d.DNE(85,XN,12,2,"ng-template",null,30,d.C5r),d.k0s()()),2&r&&(d.R7$(10),d.SpI(" ",o.userType," Registration "),d.R7$(7),d.Y8G("ngModel",o.companyType)("ngModelOptions",d.lJ4(24,Ve)),d.R7$(16),d.Y8G("ngModel",o.regNumber)("ngModelOptions",d.lJ4(25,Ve)),d.R7$(5),d.Y8G("ngModel",o.companyName)("ngModelOptions",d.lJ4(26,Ve)),d.R7$(4),d.Y8G("ngModel",o.vatNumber)("ngModelOptions",d.lJ4(27,Ve)),d.R7$(5),d.Y8G("ngModel",o.address)("ngModelOptions",d.lJ4(28,Ve)),d.R7$(5),d.Y8G("ngModel",o.postcode)("ngModelOptions",d.lJ4(29,Ve)),d.R7$(4),d.Y8G("ngModel",o.mobile)("ngModelOptions",d.lJ4(30,Ve)),d.R7$(5),d.Y8G("ngModel",o.firstName)("ngModelOptions",d.lJ4(31,Ve)),d.R7$(4),d.Y8G("ngModel",o.lastName)("ngModelOptions",d.lJ4(32,Ve)),d.R7$(5),d.Y8G("ngModel",o.email)("ngModelOptions",d.lJ4(33,Ve)),d.R7$(4),d.Y8G("ngModel",o.landline)("ngModelOptions",d.lJ4(34,Ve)),d.R7$(2),d.Y8G("ngIf",o.isError))},dependencies:[Vt.bT,U.qT,U.xH,U.y7,U.me,U.wz,U.BC,U.cb,U.vS,U.cV,ut.Wk]})}}return e})()},{path:"auth/forgot-password",component:Xg},{path:"auth/verify-email-address",component:(()=>{class e{constructor(n,r){this.authService=n,this._location=r}ngOnInit(){document.querySelector("body")?.classList.remove("horizontal"),document.body.className="ltr error-page1 bg-primary"}ngOnDestroy(){document.body.className="ltr main-body app sidebar-mini"}backClicked(){this._location.back()}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(fi.u),d.rXU(Vt.aZ))}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["app-verify-email"]],decls:26,vars:1,consts:[[1,"register-2"],[1,"page"],[1,"page-content"],[1,"container"],[1,"row"],[1,"col","mx-auto"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"text-center","mb-6"],[1,"card"],[1,"card-body"],[1,"row","mt-xl-5","text-center"],[1,"d-flex","justify-content-center"],["class","formGroup",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"],[1,"btn","btn-secondary","mt-4",3,"click"],[1,"text-white","text-center"],["routerLink","/auth/login",1,"btn","btn-success"],[1,"formGroup"],[1,"text-center"]],template:function(r,o){1&r&&(d.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),d.nrm(8,"div",8),d.j41(9,"div",9)(10,"div",10)(11,"div",11)(12,"h3"),d.EFF(13,"Thank You for Registering"),d.k0s(),d.j41(14,"div",12),d.DNE(15,eT,8,1,"div",13),d.j41(16,"button",14),d.bIt("click",function(){return o.authService.SendVerificationMail()}),d.nrm(17,"i",15),d.EFF(18," Resend Verification Email "),d.k0s()(),d.j41(19,"button",16),d.bIt("click",function(){return o.backClicked()}),d.EFF(20," Go Back "),d.k0s()()()(),d.j41(21,"div",17)(22,"span"),d.EFF(23,"Go back to?"),d.j41(24,"span",18),d.EFF(25," Sign in"),d.k0s()()()()()()()()()()()),2&r&&(d.R7$(15),d.Y8G("ngIf",o.authService.userData))},dependencies:[Vt.bT,ut.Wk]})}}return e})()}];let nT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({imports:[ut.iI.forChild(tT),ut.iI]})}}return e})(),rT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({imports:[Vt.MD,di.UN,U.YN,U.X1,nT]})}}return e})()}}]);